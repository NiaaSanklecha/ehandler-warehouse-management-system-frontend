<div class="container" style="justify-items: right;">
    <div class="row">
        <div class="col-lg-12 col-sm-12">
            <div class="header-container">
                <h3>Welcome, {{userName}}!</h3>
              
              <a class="btn logout-btn" type="submit" name="logout" routerLink="/logout">Logout</a>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-lg-5">
            <div class="product-section">
                <div class="row">
                    <h3 class="mt-3 mb-3 col-7">Client Details</h3>
                    <div class="col-5">
                        <button class="btn eh-button" type="button" name="logout" (click)="openClientForm()"
                        style="min-width: 70px;">Add Client</button>
                        
                    </div>
                </div>
                <table style="width: 100%;">
                    <tr>
                      <th>No. </th>
                      <th>Store Name</th>
                      <th>App</th>
                      
                    </tr>
                    <tr *ngFor="let client of clientList, let i = index" (click)="showProducts(client.id)" style="cursor: pointer;">
                      <td>{{i+1}}</td>
                      <td>{{client.storeName}}</td>
                      <td>{{client.app}}</td>
                    </tr>
                  </table>
            </div>
        </div>
        <div class="col-lg-7">
            <div class="product-section">
                <h3 class="mt-3 mb-3">Product Details</h3>
                <table style="width: 100%;">
                    <tr>
                      <th>No. </th>
                      <th>Product Id</th>
                      <th>Product</th>
                      <th>Type</th>
                      
                    </tr>
                    <tr *ngFor="let product of productList?.products, let i = index" >
                      <td>{{i+1}}</td>
                      <td>{{product.id}}</td>
                      <td>{{product.title}}</td>
                      <td>{{product.product_type}}</td>
                    </tr>
                    <tr *ngFor="let product of productList, let i = index" >
                        <td>{{i+1}}</td>
                        <td>{{product.id}}</td>
                        <td>{{product.name}}</td>
                        <td></td>
                      </tr>
                  </table>
            </div>
        </div>
    </div>
</div>
<div
  class="modal"
  tabindex="-1"
  role="dialog"
  [ngStyle]="{'display':displayStyle}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Add Client Details </h4>
      </div>
      <div class="modal-body">
        <div class="row">
            <div class="col-sm-3">
                <label class="form-label" for="clientName" style="margin-top: 10px;">Client Name :</label>
            </div>
            <div class="col-sm-9">
                <input required type="text"  name="clientName" id="clientName"  [(ngModel)]="client.clientName"
                                    class="form-control phone" maxlength="28" placeholder="Enter Client Name" />
            </div>
        </div>
        <div class="row" style="margin-top: 20px;">
            <div class="col-sm-3">
                <label class="form-label" for="storeName" style="margin-top: 10px;">Store Name :</label>
            </div>
            <div class="col-sm-9">
                <input required type="text"  name="storeName" id="storeName" [(ngModel)]="client.storeName"
                                    class="form-control phone" maxlength="28" placeholder="Enter Store Name" />
            </div>
        </div>
        <div class="row" style="margin-top: 20px;">
            <div class="col-sm-3">
                <label class="form-label" for="app" style="margin-top: 10px;">Apps :</label>
            </div>
            <div class="col-sm-9">
                <select class="form-select"  aria-label="Default select example" name="app" [(ngModel)]="client.app">
                    
                    <option value="Shopify">Shopify</option>
                    <option value="Amazon">Amazon</option>
                    <option value="Flipkart">Flipkart</option>
                    <option value="Myntra">Myntra</option>
                    <option value="Woocommerce">Woocommerce</option>
                </select> 
            </div>
        </div>
            <div class="row" style="margin-top: 20px;" *ngIf="client.app !== 'Amazon' || client.app !== 'Flipkart'">
                <div class="col-sm-3">
                    <label class="form-label"  for="appUrl" style="margin-top: 10px;">App URL :</label>
                </div>
                <div class="col-sm-9">
                    <input required type="text"  name="appUrl" id="appUrl" [(ngModel)]="client.appUrl"
                                        class="form-control phone" maxlength="100" placeholder="https://example.com/" />
                </div>
            </div>
            <div class="row" style="margin-top: 20px;" *ngIf="client.app === 'Shopify'">
                <div class="col-sm-3">
                    <label class="form-label" for="apiKey" style="margin-top: 10px;">API Key :</label>
                </div>
                <div class="col-sm-9">
                    <input required type="text"  name="apiKey" id="apiKey" [(ngModel)]="client.apiKey"
                                        class="form-control phone" maxlength="50" placeholder="Enter API Key" />
                </div>
            </div>
            <div class="row" style="margin-top: 20px;" *ngIf="client.app === 'Woocommerce' || client.app === 'Flipkart'">
                <div class="col-sm-3">
                    <label class="form-label" for="apiKey" style="margin-top: 10px;">Consumer Key:</label>
                </div>
                <div class="col-sm-9">
                    <input required type="text"  name="apiKey" id="apiKey" [(ngModel)]="client.consumerIdWoo"
                                        class="form-control phone" maxlength="50" placeholder="Enter Consumer Key" />
                </div>
                <div class="col-sm-3">
                    <label class="form-label" for="apiKey" style="margin-top: 10px;">Consumer Secret :</label>
                </div>
                <div class="col-sm-9">
                    <input required type="text"  name="apiKey" id="apiKey" [(ngModel)]="client.consumerKeyWoo"
                                        class="form-control phone" maxlength="50" placeholder="Enter Consumer Secret" />
                </div>
            </div>
            <div class="row" style="margin-top: 20px;" *ngIf="client.app === 'Amazon'">
                <div class="col-sm-3">
                    <label class="form-label"  for="appUrl" style="margin-top: 10px;">Selling Partner Id :</label>
                </div>
                <div class="col-sm-9">
                    <input required type="text"  name="appUrl" id="appUrl" [(ngModel)]="client.sellingPartnerId"
                                        class="form-control phone" maxlength="100" placeholder="Selling Partner Id" />
                </div>
                <div class="col-sm-3">
                    <label class="form-label"  for="appUrl" style="margin-top: 10px;">Developer Id :</label>
                </div>
                <div class="col-sm-9">
                    <input required type="text"  name="appUrl" id="appUrl" [(ngModel)]="client.developerId"
                                        class="form-control phone" maxlength="100" placeholder="Developer Id" />
                </div>
                <div class="col-sm-3">
                    <label class="form-label"  for="appUrl" style="margin-top: 10px;">MWS Auth Token :</label>
                </div>
                <div class="col-sm-9">
                    <input required type="text"  name="appUrl" id="appUrl" [(ngModel)]="client.mwsAuthToken"
                                        class="form-control phone" maxlength="100" placeholder="MWS Auth Token" />
                </div>
            </div>
            <div class="row" style="margin-top: 20px;">
                <div class="col-sm-3">
                    <label class="form-label" for="image" style="margin-top: 10px;">Upload Image :</label> 
                </div>
                <div class="col-sm-9">
                    <img src="assets/images/client_image.png" [(ngModel)]="image" width="20" height="20" hidden>
                    <input class="form-control" type="file" (change)="selectFile($event)">
                </div>
            </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" 
                (click)="closeClientForm()">
          Close
        </button>
        <button type="button" class="btn btn-primary" 
                (click)="addClientDetails()">
          Save
        </button>
      </div>
    </div>
  </div>
</div>
